<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<title>Sophie Bluel - Log in</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Work+Sans&display=swap" rel="stylesheet">
	<meta name="description" content="">
	<link rel="stylesheet" href="./assets/style.css">
</head>
<body>
<header>
	<h1>Sophie Bluel <span>Architecte d'intérieur</span></h1>
	<nav>
		<ul>
			<li>projets</li>
			<li>contact</li>
			<li src="./login.html">login</li>
			<li><img src="./assets/icons/instagram.png" alt="Instagram"></li>
		</ul>
	</nav>
</header>
<main>
	
	
	<div class="container">
		<h2 class="login">Log in</h2>
		<form>
		  <div class="form-group">
			<p>E-mail</p>
			<input type="email" id="email" name="email" required />
		  </div>
		  <div class="form-group">
			<p>Mot de passe</p>
			<input type="password" id="password" name="password" required />
		  </div>
		  <div class="form-group">
			<button class="connecter" type="submit">Se connecter</button>
		  </div>
		</form>
		<div class="passe-oublier">
		  <a href="#">Mot de passe oublié ?</a>
		</div>
		<div id="erreur-message"></div>
	  </div>
	  </div>
<script>
	// Récupération des éléments du formulaire
const form = document.querySelector('form');
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const errorContainer = document.getElementById('erreur-message');

// Gestion de la soumission du formulaire
form.addEventListener('submit', (e) => {
  e.preventDefault(); // Empêche l'envoi du formulaire

  const email = emailInput.value;
  const password = passwordInput.value;

  // Envoi des informations de connexion à l'API
  fetch('http://localhost:5678/api/login', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ email, password }),
  })
    .then((response) => {
      if (response.ok) {
        // Redirection vers la page d'accueil en cas de connexion réussie
        window.location.href = 'index.html';
      } else {
        // Affichage d'un message d'erreur en cas d'informations utilisateur/mot de passe incorrectes
        errorContainer.textContent = 'Informations utilisateur/mot de passe incorrectes';
        errorContainer.style.display = 'block';
      }
    })
    .catch((error) => console.error(error));
});
</script>
	
	
</main>

<footer>
	<nav>
		<ul>
			<li>Mentions Légales</li>
		</ul>
	</nav>
</footer>
</body>
</html>
